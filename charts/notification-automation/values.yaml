# Default values for notification-automation.
# This is a YAML-formatted file.
# Declare variables to be substituted into your templates.

replicaCount: 1

# Control CRD presence checks (used by templates/knative-crd-check.yaml)
crdChecks:
  # When true, chart will verify Knative Operator CRDs exist in the cluster and fail if missing.
  # Keep this false for `helm template` or other offline renders where `lookup` cannot access the cluster.
  enforce: false

# Knative Eventing configuration
eventing:
  # Specifies whether KnativeEventing should be installed
  install: false
  # Version of KnativeEventing to install
  version: "1.18.1"
  # Namespace where KnativeEventing should be installed
  namespace: knative-eventing
  # Enable OIDC authentication
  authenticationOidc: true
  # Default Broker configuration
  defaultBroker:
    # Specifies whether a default Broker should be created
    create: true
    # Name of the default Broker
    name: default

# Knative Serving configuration
serving:
  # Specifies whether KnativeServing should be installed
  install: false
  # Version of KnativeServing to install
  version: "1.18.0"
  # Namespace where KnativeServing should be installed
  namespace: knative-serving
  # Domain configuration
  domain: functions.eoepca.org



image:
  repository: ""
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: ""

webhookSource:
  enabled: false
  name: webhook-source
  replicaCount: 1
  image:
    repository: "ghcr.io/eoepca/na-webhook-source"
    tag: "sha-895c85f"
    pullPolicy: IfNotPresent
  containerPort: 8080
  serviceAccount:
    create: true
    name: ""
  service:
    create: true
    type: ClusterIP
    port: 80
    targetPort: 8080
  ingress:
    enabled: false
    className: ""
    annotations: {}
    hosts:
      - host: webhook-source.local
        paths:
          - path: /
            pathType: Prefix
    tls: []
  configMap:
    create: false
    name: webhook-projects-config
    key: projects.json
    projectsJson: "{}"
  secrets:
    create: false
    name: webhook-secrets
    githubKey: github-secret
    gitlabKey: gitlab-secret
    githubSecret: ""
    gitlabSecret: ""
  oidcTokenPath: /var/run/secrets/kubernetes.io/serviceaccount/token
  sinkBinding:
    create: false
    name: webhook-source-binding
    subject:
      apiVersion: apps/v1
      kind: Deployment
      name: ""
    sink:
      ref:
        apiVersion: eventing.knative.dev/v1
        kind: Broker
        name: default
      uri: ""
  extraEnv: []

# CloudEvents Player configuration
cloudEventsPlayer:
  enabled: false
  name: cloudevents-player
  replicaCount: 1
  image:
    repository: "quay.io/ruben/cloudevents-player"
    tag: "v1.3"
    pullPolicy: IfNotPresent
  containerPort: 8080
  serviceAccount:
    create: true
    name: ""
  service:
    create: true
    type: ClusterIP
    port: 80
    targetPort: 8080
  ingress:
    enabled: false
    className: ""
    annotations: {}
    hosts:
      - host: cloudevents-player.local
        paths:
          - path: /
            pathType: Prefix
    tls: []
  subscribeBroker:
    enabled: true
    broker:
      name: ""
  extraEnv: []
